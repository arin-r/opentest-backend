import {Schema, model, models, Model} from "mongoose";

type UserStatus = "admin" | "student"
type UserInfo = {
  email: string;
  emailVerified: boolean;
  name: string;
  picture: string;
  count: number;
  status: UserStatus
};

const userSchema = new Schema<UserInfo> ({
  email: {
    type: String,
    require: true,
    unique: true,
  },
  name: {
    type: String,
    require: true,
  },
  picture: {
    type: String,
    require: false
  },
  //temp
  count: {
    type: Number,
    default: 0
  },

  status: {
    type: String,
    default: "student"
  }
})

export default (models.User as Model<UserInfo>) || model('User', userSchema);